---
import Page from "@layouts/Page.astro";
import Header from "@components/Header.astro";
import Card from "@components/Card.astro";
import MainCard from "@components/MainCard.astro";
import directus from "@utils/directus";
import { readSingleton } from "@directus/sdk";
import { SOCIALS } from "@config";
import { readItem } from "@directus/sdk";

const configstuff = await directus.request(readSingleton("global"));

const socialCount = SOCIALS.filter((social) => social.active).length;

const page = await directus.request(readItem("pages", "home"));
---

<Page>
  <Card slot="card">
    <Header />
    <MainCard content={page.content} />
  </Card>
</Page>
